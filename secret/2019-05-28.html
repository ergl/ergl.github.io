<!DOCTYPE html><html lang="en-US"><head prefix="og: http://ogp.me/ns#">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta property="og:title" content="Secrets — Wrong opinions, all the time">
<meta property="og:description" content=":^)">
<meta property="og:type" content="article">
<title>Secrets — Wrong opinions, all the time</title>
<link rel="stylesheet" href="/style.css">
<script src="/scripts/sjcl.js"></script>
<meta http-equiv="cache-control" content="max-age=0"><meta http-equiv="cache-control" content="no-cache"><meta http-equiv="expires" content="0"><meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT"><meta http-equiv="pragma" content="no-cache"><style>
#decrypt-notice {
    background-color: #fdf6e3;
    margin: 2em;
    padding: 2em;
    padding-bottom: 0.5em;
    text-align: center;
}

#decrypt-pw-input {
    display: block;
    font-size: 1.2em;
    margin: 0 auto;
}

#decrypt-pw-input[data-valid="false"] {
    border-color: red;

}
#decrypt-button {
    cursor: pointer;
    margin-top: 1em;
    padding: 0.5em;
    font-size: 0.7em;
    background-color: #da5f6d;
    color: white;
    border-style: none;
}

#decrypt-button:hover {
    background-color: #ab4b56;
}

#decrypt-input-link {
    margin-top: 1em;
    font-size: 0.7em;
    margin-top:2em;
}

#decrypt-input-link a {
    color: inherit;
}

noscript div {
    background-color: #fdf6e3;
    margin-top: 1em;
    padding: 1em 2em 0.1em 2em;
}

@media only screen and (max-width: 480px) {
    #decrypt-notice {
        margin: 0 auto;
        margin-top: 0.5em;
        padding-left: 0em;
        padding-right: 0em;
    }

    #decrypt-pw-input {
        font-size: 1em;
    }
}
</style><script id="sjcl-data" type="application/json">
{"iv":"OBJIq/ZJqpULfaY61ljlcg==","v":1,"iter":10000,"ks":128,"ts":64,"mode":"ccm","adata":"","cipher":"aes","salt":"IT+95iYx5Ic=","ct":"6v4xSfq63V11jJTzGDfgc3qqjIdcYXo2SKCD/Ob5qCxh1oCHuE3D+bm6wb+yQvNa7fGs3lcJJoAuf2SkcxV55+9UEfyITtQc9A1HX9USY3WJtCc1c5jEe9TX08fhevxmVhjuiKeyaPPygyAH3qfUlTO69vgoHjZCCIZvl1jQ7Os1gEyapoiwm2eixER+YrU3bPyABMP0h1kdivFOnh/D32IKLfwC17AjIM3o9KN1yOxKzMfj90hFg6D5yZvRuCgt55gGpI0JQZzo5SfT2l83YlAk6Q0z7GYWCh/4CQ4+LST01yaY83kBq7ectdYGErprg4ZzTEKWJ6fZtLUXmY6rOcF23H7JFmqa3Tespcxxgqnl347MiWDfhW1H+PLav7XCYno33SmCrLwfdH/MNWZL5+S5nrxeC9W/RbjPskB9MgjAdYfd20H9v3lDFp6+VRREDH3Sw/wLsDtfzsSkxush32BIlzsH32XZLRPNOhFD7jtKvgTUIcV0do0myLhah5bF8u6xxLNay3oOy/TO8nsNGcQxdtcMCclFMuYFa8jY//xlfnHkfR+klGIuPSKpp26xMaYV5bB93MJdnUyoxfktErnzTtX+jQPOpUpKtEG+VLgD8UTC4IpgTVoHua8dL5ZloFbLSSgJkQJAZb7sEoDuuBIq62zqRJHrPm9rtvy74HDMXa/uitbvKf3jask9fWQ5Bs+0+Ysi/TJFEXLafIQ9r8c/VctSvsRj0Y6y80+lGkyCoFIJQsH8Fcwp9erXH8xOd4ezpE7mPrGgj59BIPgLbsbZfOXDTxq/SZp7JH6h8ULKzGkfseDEyc58QbdUSe4EX7vvs24Cn1ViLCbg5PlL8VKUCgaaUgPsG2ulqMogUIQKRlWVjy4IZKpq6z3j2MBeHoyOVxvKPq24/M8ve1ss+aAhHxaISLLc3lHC5l4gpLdTwgMVKA2noJZuZiT4r7CGWbwwSh298ag/QZNKaSXf1ow4KHReahFhxSivhpBQep/eQtBoy5mxdkf/8SKcvGey0xeOPyg8guUHcabKVukbtV6sTLkQXxua5aqOTsoOHu7d2HRTfuUrZn0T13OP+qIIGSnITmqHI+leiJiEO+8X94I+wOmH1Mc4PBwTC7RpbbJBJgnsLo7TYpD25hcYDxeKLl8nnIl4cgDPdOvbyK0L/P8VtIyDV0AW48tLo6S3RBglhU/NqhfMYqqXrSwjxWEXt/WwYcu6ZjooGWlO+X16xDdtV/TmN5c90Nzcfyo12aW7JPL1z4dCF8Dfiy0ss8nv0Rm4Y8ijChPw5E8I7BG6Iso+55c82sPtCHjB090+sQmo375Oh5l2y2GjInYXt4tdkF0qRbsM0bABn3omahPTZE5XOrotIqRNiAmXOKfORkL1sa7TXq4Xrb2xTQPN/3sWH895/rf3YNjSJGg1aSZ6mzRoYoHmoecXl8SXWxw9Jr87+xnq0r4cf7bqTp5CX6LQIFugSQwemdd2JTEwqmeA2xiW1B51PX4o6N1+MoZsTWoXW544DTr1DuodhgkjQqU/NcbSJmZKsfShunrn6a55SSg3zSq6s2dsSeK4711wCYUUOglwEnUTYQMkNAH396O4NWm2W/QD4Qeg4sw4wRBzqtwAnqg1xwcsntf9ncruEYsheJ5Sz4+4ctALb1XrH72m/b8jth6yQ7ORF6PrTn54EmnTiyhNWJ5RpDizsTPICcTKZFHI+aFVPKvCaIZPRkvCdp9OdbVmeQlL2Va5PEfxHXPUT9U5zXaVHtyiVPfVLWW6FY57+tPQ908zTtwKrH9ImC+3RvYiCaOb9HIFGlWpBCvnO8J3xzuNF2dnFfl3zkc9zMWes/PGLGvevC/0qXotFKJeiYcmafJTi21pmeugHEC6GfxDZIHAj9V+TXJRk9fJBIVZL1MrxYWuLq2kFMt9fiG6AeVzBASx7kP3gf4MtH0x6BMjm3hUfwSWtINIr/dL5XZFQ508ere3YMcAYWQoj6lGl1zEWBOzaRfblljnKae3WdfIJeKYIG0Yhz+hZA3up4JpIwMOVjS2PdMWQzRFR+hRQBEUIA+h0mjzXoH05KQegyEGmhNDvE5F8m4D4Ad97XOtdT1J6w/ckdDBxwtyCP0t1xTV6iWRMHOhfce+hZX7A89S8DrfoTy/wTJjUKAy10L/vNo2OH4bz0AsMb1jt1ebBzdQJJ+NVhDmiqhr4kjxmrusxem4rkKwOEYC8wl+JcYc7WUr6SS1URYMNk2hk7a9c+xJEuUW+XUe+sX1+KQdsBB/A6sT5bvClBiBLUJC7FI1jmFB9gpwcwHUm/3miGfvcQ8czPD5uYw6xHV6MkgzPjrYF9Z+jJ0T9o3pO35sb0B7EEJe6/shZRBfodmNCkV1T4fQGQ9obQmcs8Y5KGYFbxhbSchuqeBQICc69WL8br/pMo2HZHjgsm7kzDkuK0d7BheQi1jCOlcYiBY1cUrWP+A2UzlVfHItrYlpUd92xCkHoMH8yUrs1dtAOB3WcY0SfEs+IgnhPp5PZTDkCe8crSYSP+G4mYYMvxaxf3TBjRUU02rR2OX1/kkkonk/7BzCid3h3WZjgtHVsgZbz3m6iK+rhvzxvTpwLHS0KYdM43oc00RiCl5BNqdK3Lt9NbWYkpjHqTe3AyfiBhsVrVYXR84k/YjU8jrVJ4tCVRZX9WDQGt7375fAgBoko7vCYZIOb+RcSSM+ItpCWdQbUV6AkJTVu8bxzx0GlpQpc73GhSxPk3CqHHM/pMC/q2wKwLTGfWVEUaLUkNLqR9jy5FAj5bzZmZX1I4p1i1T6CAJ3Fmz3eKvNS46h6CTlw3j4EcWixppBz373b5GnnmLAnIK44b5Xj20qE7yLllcz4kfSgBCqa8apeOT4ezmw7b5088Grt8vRpW8lUthweX+xsg9Jtu3fHeNb6eAudieqbch7piIWAaFQEUa7zWIbQHeYMZjm5lTMHchK5zREEWS5fTW+N6wkk0JT9tkZ4ZRURpL3BzPonSXDSWvdEVFqm+KbIOc+wkic7ETvkYcWhH1IZbDMl42L963m2jfuUW57UkbZ8x7YGJ6kqVqUCjvVYcm3hruL9iaMSZo6jHsJAZtgfgd0UmhXPXcyXbwydWGb+Zkpna64tGQpVJUiZOCYJqthCwcvhGr9Y5IcobRYaDLlqgztmY/0/wsGbfZ5q3+aPlUSl45wxRI581ubjSWayPIdyV9u0kysTPnzHJGj+f7jT3iVPgmiJRQB+aQ7TNDvNxO23pagcTX30BrvhNikPqYw0S1KbCl3Q8JBF9fBAda2cfvrOrXOvXxFsjKP5ZhMwu+sKk8+2hKcaYpTwfnVIyVtUtOf8v/Hm8ubrl9kVeY7i+QWGGEGBCasCbSyxAdCnif1VWWk14Jbn3gKsb3Du3GSg4eUo3BYqhiskwcHeN7NA/wsODK3+Lim51WxHMN4tQ=="}
</script></head>
<body><noscript><div>
    <p>Hi there! It seems you don't have javascript enabled.</p>
    <p>I try my hardest to keep this site javascript-free. This blog entry, however, uses the <a href="http://bitwiseshiftleft.github.io/sjcl" target="_blank" rel="noopener" class="external">Stanford Javascript Crypto Library</a> to allow password-protection. Please enable javascript to be able to unlock it.</p>
    <p>Thanks!</p>
</div></noscript>
<header><nav><ul class="main-menu"><li id="nav-home"><a href="/">home</a></li><li><a href="/posts">blog</a></li><li><a href="/wiki/index.html">wiki</a></li><li><a href="/misc.html">misc</a></li><li><a href="/about.html">about</a></li></ul></nav></header>


<div id="decrypt-notice">
    <h2>Protected Page</h2>
    <p>Please enter your password to read this article</p>
    <input id="decrypt-pw-input" type="password" name="password" placeholder="Enter your password here" autofocus="">
    <button id="decrypt-button" type="button">Unlock</button>
    <p id="decrypt-input-link">
        <a href="https://example.org" target="_blank" rel="noopener" class="external">What's this?</a>
    </p>
</div><script>
function setupHandlers() {
    document.getElementById("decrypt-button").onclick = function click() {
        const pwInput = document.getElementById("decrypt-pw-input");
        const text = pwInput.value;
        if (!text) {
            pwInput.dataset.valid = "false";
        } else {
            pwInput.value = "";
            handleSubmit(pwInput, text);
        }
    }

    document.getElementById("decrypt-pw-input").onkeydown = function(event) {
        const text = this.value;
        this.dataset.valid = "true";
        if (event.keyCode == 13) {
            if (!text) {
                this.dataset.valid = "false";
                return;
            }
            this.value = "";
            handleSubmit(this, text);
        }
    }
}

function handleSubmit(parent, password) {
    const pwData = document.getElementById("sjcl-data").innerHTML;
    let cleartext;
    try {
        cleartext = sjcl.decrypt(password, pwData)
    } catch(_error) {
        cleartext = null;
    }

    if (!cleartext) {
        parent.dataset.valid = "false";
        return;
    }

    document.body.insertAdjacentHTML('beforeend', cleartext);
    document.getElementById("sjcl-data").remove();
    document.getElementById("decrypt-notice").remove();
}

setupHandlers();
</script></body></html>
